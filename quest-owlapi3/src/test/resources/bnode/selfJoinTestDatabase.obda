[PrefixDeclaration]
:		http://www.semanticweb.org/smallDatabase#
quest:		http://obda.org/quest#

[SourceDeclaration]
sourceUri	SmallDataset
connectionUrl	jdbc:h2:mem:questjunitdb
username	sa
password    
driverClass	org.h2.Driver

[MappingDeclaration] @collection [[
mappingId	mappingExam
target		[] a :Exam ; :examName  {name} .
source		SELECT * FROM exam

mappingId	mappingStudent
target		[] a :Student ; :studentName  {name} .
source		SELECT * FROM student

; Passed exams are mapped using blank nodes
mappingId	mappingStudentExam
target		[] :passedExam :exam{exam_id} .
source		SELECT student_id, exam_id
            FROM student_exam AS se, student AS st
            WHERE se.status = 'PASSED'
              AND st.type = 0
              AND se.student_id = st.id
]]

